{"version":3,"sources":["method.js"],"names":["config","DEBUG","getQueryString","name","reg","RegExp","r","decodeURI","window","location","search","substr","match","unescape","addUrlString","value","currentUrl","href","split","test","replace","log","a","b","console","error","isEmpty","obj","toast","msg","ms","$toast","$","append","setTimeout","remove","Vue","filter","length","http","interceptors","push","request","next","timeout","_timeout","onTimeout","abort","response","clearTimeout","use","VueResource"],"mappings":"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","file":"method.js","sourcesContent":["// 配置信息\nvar config = {\n  DEBUG: true\n}\n\n// 通用函数\nfunction getQueryString (name) { // 解析链接参数\n  const reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)')\n  const r = decodeURI(window.location.search).substr(1).match(reg)\n  if (r !== null) return unescape(r[2])\n  return null\n}\n\nfunction addUrlString (name, value) {  // 增加链接参数\n  var currentUrl = window.location.href.split('#')[0]\n  if (/\\?/g.test(currentUrl)) {\n    if (/name === [-\\w]{4,25}/g.test(currentUrl)) {\n      currentUrl = currentUrl.replace(/name=[-\\w]{4,25}/g, name + '=' + value)\n    } else {\n      currentUrl += '&' + name + '=' + value\n    }\n  } else {\n    currentUrl += '?' + name + '=' + value\n  }\n  if (window.location.href.split('#')[1]) {\n    window.location.href = currentUrl + '#' + window.location.href.split('#')[1]\n  } else {\n    window.location.href = currentUrl\n  }\n}\n\nfunction log (a, b) { // 打印console.log\n  if (config.DEBUG) {\n    if (b || b === 0 || b === false || b === 'null') { // 第一类：无提示文字log，如log(a)\n      console.log(a, b)\n    } else { // 第二类：有提示文字log，如log('a', a)\n      console.log(a)\n    }\n  }\n}\n\nfunction error (a, b) { // 打印console.error\n  if (config.DEBUG) {\n    if (b || b === 0 || b === false || b === 'null') { // 第一类：无提示文字error，如error(a)\n      console.error(a, b)\n    } else { // 第二类：有提示文字log，如error('a', a)\n      console.error(a)\n    }\n  }\n}\n\nfunction isEmpty (obj) {// 判断对象是否为空\n  for (let name in obj) return false\n  return true\n}\n\nfunction toast (msg='', ms=\"2000\") { // 生成toast\n  log('111')\n  var $toast = $(`<div class=\"toastbox\" flex=\"main:center cross:center\"><div class=\"toast\">${msg}</div></div>`)\n  $('body').append($toast)\n  setTimeout(() => $toast.remove(), ms)\n}\n\n\n// vue方法\n// 截取nickname\nVue.filter('splitNickName', function (value) {\n  if (value == null) return 'null';\n  return value.length <= 4 ? value : value.substr(0, 3) + '...';\n});\n\n// 添加时超时处理\nVue.http.interceptors.push((request, next) => {\n  var timeout;\n  // 這裡改用 _timeout ，就不會觸發原本的\n  if (request._timeout) {\n\t  // 一樣綁定一個定時器，但是這裡是只要觸發了，就立即返回 response ， 並且這邊自定義了 status 和 statusText\n    timeout = setTimeout(() => {\n      if(request.onTimeout) request.onTimeout(request)\n\t    request.abort()\n    }, request._timeout);\n  }\n  next((response) => {\n    clearTimeout(timeout);\n  });\n})\n\n// 添加vue-resource\nVue.use(VueResource);\n"]}